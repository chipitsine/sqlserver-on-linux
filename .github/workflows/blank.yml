name: CI

on: [ push, pull_request, workflow_dispatch ]

jobs:
  build:
      name: pday
      runs-on: ubuntu-latest
      env:
        ACCEPT_EULA: "Y"
        MSSQL_SA_PASSWORD: "ProgrammersDay"
      container:
        image: mcr.microsoft.com/mssql/server:2022-latest
      services:
        sql:
          image: mcr.microsoft.com/mssql/server:2022-latest
          ports:
            - 1433:1433

      steps:
      - name: say hello
        run: |
          /opt/mssql-tools18/bin/sqlcmd -S sql -U sa -P "ProgrammersDay" -d master -Q "SELECT DATEADD(DAY, 256, '2023-12-31')"
      
